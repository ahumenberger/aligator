WHILE[ (a!=b),
  IF[ (a>b),
    a := a-b;
    p := p-x;
    r := r-s,
    b := b-a;
    x := x-p;
    s := s-r
  ]
]